<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portfolio - By Tiendev</title>

  <!--
    - favicon
  -->
  <link rel="shortcut icon" href="./assets/images/logo.ico" type="image/x-icon" />

  <!--
    - custom css link
  -->
  <link rel="stylesheet" href="./assets/css/style.css" />

  <!--
    - google font link
  -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet" />
</head>

<body>
  <header>
    <nav>
      <div class="nav-container">
        <h1>s√†n dev</h1>
        <div id="auth-section">
          <div class="btn-login-register" id="btn-login-register">
            <button style="text-align: center" class="btn btn-login">Login</button>
            <button style="text-align: center" class="btn btn-register">Register</button>
          </div>
          <div id="user-info" style="display: none; position: relative">
            <span id="user-name"></span>
            <span id="user-balance" style="margin-left: 10px; font-weight: bold;">S·ªë ti·ªÅn: 0 VND</span>
            <img id="user-icon" src="user.jpg" alt="User Icon" class="user-icon">
            <div id="user-menu" class="dropdown-menu" style="display: none;">
              <button id="profile-btn" class="dropdown-item">Trang c√° nh√¢n</button>
              <button id="naptien-btn" class="dropdown-item">N·∫°p ti·ªÅn</button>
              <button id="logout-btn" class="dropdown-item">Logout</button>
            </div>

          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Modal Login/Register -->
  <div id="auth-modal" class="auth-modal">
    <div class="auth-modal-content">
      <span class="auth-close-btn" id="close-auth-modal">&times;</span>
      <div class="auth-tabs">
        <button class="auth-tab active" data-target="login-form">
          Login
        </button>
        <button class="auth-tab" data-target="register-form">Register</button>
      </div>
      <div class="auth-forms">
        <!-- Login Form -->
        <form id="login-form" class="auth-form active">
          <h2>Login</h2>
          <label for="login-email">Email:</label>
          <input type="email" id="login-email" placeholder="Enter your email" required />
          <label for="login-password">Password:</label>
          <div class="password-container">
            <input type="password" id="login-password" placeholder="Enter your password" required />
            <ion-icon name="eye-off-outline" id="toggle-login-password" class="toggle-password"></ion-icon>
          </div>
          <button type="submit" class="auth-btn">Login</button>
        </form>

        <!-- Register Form -->
        <form id="register-form" class="auth-form">
          <h2>Register</h2>
          <label for="register-name">Name:</label>
          <input type="text" id="register-name" placeholder="Enter your name" required />
          <label for="register-email">Email:</label>
          <input type="email" id="register-email" placeholder="Enter your email" required />
          <label for="register-password">Password:</label>
          <div class="password-container">
            <input type="password" id="register-password" placeholder="Enter your password" required />
            <ion-icon name="eye-off-outline" id="toggle-register-password" class="toggle-password"></ion-icon>
          </div>
          <button type="submit" class="auth-btn">Register</button>
        </form>
      </div>
    </div>
  </div>

  <!--
    - #MAIN
  -->

  <main>
    <!--
      - #SIDEBAR
    -->

    <aside class="sidebar" data-sidebar>
      <div class="sidebar-info">
        <figure class="avatar-box">
          <img src="./assets/images/my-avatar.png" alt="Richard hanrick" width="80" />
        </figure>

        <div class="info-content">
          <h1 class="name" title="Richard hanrick">nguyen hong sang</h1>

          <p class="title">Web developer</p>
        </div>

        <button class="info_more-btn" data-sidebar-btn>
          <span>Show Contacts</span>

          <ion-icon name="chevron-down"></ion-icon>
        </button>
      </div>

      <div class="sidebar-info_more">
        <div class="separator"></div>

        <ul class="contacts-list">
          <li class="contact-item">
            <div class="icon-box">
              <ion-icon name="mail-outline"></ion-icon>
            </div>

            <div class="contact-info">
              <p class="contact-title">Email</p>

              <a href="mailto:richard@example.com" class="contact-link">nguyenhongsang0207@gmail.com</a>
            </div>
          </li>

          <li class="contact-item">
            <div class="icon-box">
              <ion-icon name="phone-portrait-outline"></ion-icon>
            </div>

            <div class="contact-info">
              <p class="contact-title">Phone</p>

              <a href="https://zalo.me/0347160155/" class="contact-link">+335764804</a>
            </div>
          </li>

          <li class="contact-item">
            <div class="icon-box">
              <ion-icon name="calendar-outline"></ion-icon>
            </div>

            <div class="contact-info">
              <p class="contact-title">Birthday</p>

              <time datetime="1982-06-23">02-07-20??</time>
            </div>
          </li>

          <li class="contact-item">
            <div class="icon-box">
              <ion-icon name="location-outline"></ion-icon>
            </div>

            <div class="contact-info">
              <p class="contact-title">Location</p>

              <address>th·∫°nh b√¨nh-ƒë√† ƒë·∫≥ng</address>
            </div>
          </li>
        </ul>

        <div class="separator"></div>

        <ul class="social-list">
          <li class="social-item">
            <a href="https://www.facebook.com/ongchaulaptrinh27" class="social-link">
              <ion-icon name="logo-facebook"></ion-icon>
            </a>
          </li>


          <li class="social-item">
            <a href="#" class="social-link">
              <ion-icon name="logo-instagram"></ion-icon>
            </a>
          </li>
          <li class="social-item">
            <a href="https://www.tiktok.com/@sangnguyendev" class="social-link">
              <ion-icon name="logo-tiktok"></ion-icon>
            </a>
          </li>
        </ul>
      </div>
    </aside>

    <!--
      - #main-content
    -->

    <div class="main-content">
      <!--
        - #NAVBAR
      -->

      <nav class="navbar">
        <ul class="navbar-list">
          <li class="navbar-item">
            <button class="navbar-link active" data-nav-link>About</button>
          </li>

          <!-- <li class="navbar-item">
              <button class="navbar-link" data-nav-link>Resume</button>
            </li> -->

          <li class="navbar-item">
            <button class="navbar-link" data-nav-link>Source code</button>
          </li>

          <!-- <li class="navbar-item">
              <button class="navbar-link" data-nav-link>Blog</button>
            </li>

            <li class="navbar-item">
              <button class="navbar-link" data-nav-link>Contact</button>
            </li> -->
        </ul>
      </nav>

      <!--
        - #ABOUT
      -->

      <article class="about active" data-page="about">
        <header>
          <h2 class="h2 article-title">About me</h2>
        </header>

        <section class="about-text">
          <p>T√¨nh y√™u anh d√†nh cho em ch·ªâ c√≥ m·ªôt. Em y√™u ·∫° !</p>

          <a href="c·∫≠p nh·∫≠t sau">
            <p>Qu√† anh d√†nh t·∫∑ng em. üëâüëâ N√≥ ·ªü ƒë√¢y.</p>
          </a>
        </section>

        <!--
          - service
        -->

        
            <li class="service-item">
              <div class="service-icon-box">
                <img src="./assets/images/icon-dev.svg" alt="Web development icon" width="40" />
              </div>

              <div class="service-content-box">
                <h4 class="h4 service-item-title">wedste</h4>

                <p class="service-item-text">
                 l√†m game tr√™n pc v√† t·∫•t c·∫£ app
                </p>
              </div>
            </li>

            <li class="service-item">
              <div class="service-icon-box">
                <img src="./assets/images/icon-app.svg" alt="mobile app icon" width="40" />
              </div>

              <div class="service-content-box">
                <h4 class="h4 service-item-title">tr√™n ƒëi·ªán tho·∫°i</h4>

                <p class="service-item-text">
                 
                  l√†m tool l√†m wed tr√™n ƒëi·ªán tho·∫°i c·∫£ android v√† ios
                </p>
              </div>
            </li>

            
          </ul>
        </section>

       
        <!--
          - testimonials modal
        -->

        <div class="modal-container" data-modal-container>
          <div class="overlay" data-overlay></div>

          <section class="testimonials-modal">
            <button class="modal-close-btn" data-modal-close-btn>
              <ion-icon name="close-outline"></ion-icon>
            </button>

            <div class="modal-img-wrapper">
              <figure class="modal-avatar-box">
                <img src="./assets/images/avatar-1.png" alt="Daniel lewis" width="80" data-modal-img />
              </figure>

              <img src="./assets/images/icon-quote.svg" alt="quote icon" />
            </div>

            <div class="modal-content">
              <h4 class="h3 modal-title" data-modal-title>Daniel lewis</h4>

              <time datetime="2021-06-14">14 June, 2021</time>

              <div data-modal-text>
                <p>
                  Richard was hired to create a corporate identity. We were
                  very pleased with the work done. She has a lot of experience
                  and is very concerned about the needs of client. Lorem ipsum
                  dolor sit amet, ullamcous cididt consectetur adipiscing
                  elit, seds do et eiusmod tempor incididunt ut laborels
                  dolore magnarels alia.
                </p>
              </div>
            </div>
          </section>
        </div>

        <!--
          - clients
        -->

        <section class="clients">
          <h3 class="h3 clients-title">Clients</h3>

          <ul class="clients-list has-scrollbar">
            <li class="clients-item">
              <a  >
                <img src="./assets/images/logo-1-color.png" alt="client logo" />
              </a>
            </li>

            <li class="clients-item">
              <a >
                <img src="./assets/images/logo-2-color.png" alt="client logo" />
              </a>
            </li>

            <li class="clients-item">
              <a >
                <img src="./assets/images/logo-3-color.png" alt="client logo" />
              </a>
            </li>

            <li class="clients-item">
              <a >
                <img src="./assets/images/logo-4-color.png" alt="client logo" />
              </a>
            </li>

            <li class="clients-item">
              <a >
                <img src="./assets/images/logo-5-color.png" alt="client logo" />
              </a>
            </li>

            <li class="clients-item">
              <a >
                <img src="./assets/images/logo-6-color.png" alt="client logo" />
              </a>
            </li>
          </ul>
        </section>
      </article>

      <!--

        - #SOURCE CODE
      -->

      <article class="portfolio" data-page="source code">
        <header>
          <h2 class="h2 article-title">Source Code</h2>
        </header>

        <section class="projects">
          <ul class="filter-list">
            <li class="filter-item">
              <button class="active" data-filter-btn>All</button>
            </li>
          </ul>

          <div class="filter-select-box">
            <button class="filter-select" data-select>
              <div class="select-value" data-selecct-value>
                Select category
              </div>

              <div class="select-icon">
                <ion-icon name="chevron-down"></ion-icon>
              </div>
            </button>

            <ul class="select-list">
              <li class="select-item">
                <button data-select-item>All</button>
              </li>

              <!-- <li class="select-item">
                  <button data-select-item>Web design</button>
                </li>

                <li class="select-item">
                  <button data-select-item>Applications</button>
                </li>

                <li class="select-item">
                  <button data-select-item>Web development</button>
                </li> -->
            </ul>
          </div>

          <ul class="project-list">
            <!-- c√°c ph·∫ßn t·ª≠ chuy·ªÉn xu·ªëng ph·∫ßn JS -->
          </ul>
        </section>
      </article>


      <p>Copyright &copy; 2025 Website ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi sang dev.</p>
    </div>
  </main>

  <!-- Modal -->
  <div id="imageModal" class="modal">
    <div class="overlay" onclick="closeModal()"></div>
    <!-- Th√™m overlay n√†y -->
    <span class="close" onclick="closeModal()">&times;</span>
    <img class="modal-content" id="modalImage" />
  </div>
  <!--
    - custom js link
  -->
  <script src="./assets/js/script.js"></script>

  <!--
    - ionicon link
  -->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <!-- Th√™m SweetAlert2 t·ª´ CDN -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>

<script>
  function openModal(imageSrc) {
    const modal = document.getElementById("imageModal");
    const modalImage = document.getElementById("modalImage");

    // Hi·ªán modal v√† thi·∫øt l·∫≠p h√¨nh ·∫£nh trong modal
    modal.style.display = "block";
    modalImage.src = imageSrc; // ƒê·∫∑t h√¨nh ·∫£nh cho modal

    // √Åp d·ª•ng l·ªõp 'show' ƒë·ªÉ hi·ªán hi·ªáu ·ª©ng
    setTimeout(() => {
      modal.classList.add("show");
    }, 10);
  }

  function closeModal() {
    const modal = document.getElementById("imageModal");

    // G·ª° b·ªè l·ªõp 'show' ƒë·ªÉ k√≠ch ho·∫°t hi·ªáu ·ª©ng m·ªù d·∫ßn
    modal.classList.remove("show");

    // ·∫®n modal sau hi·ªáu ·ª©ng
    setTimeout(() => {
      modal.style.display = "none";
    }, 500);
  }
</script>




<script>
  document.addEventListener("DOMContentLoaded", () => {
    const productContainer = document.querySelector(".project-list");

    const getProducts = () =>
      JSON.parse(localStorage.getItem("products")) || [];

    const renderProducts = () => {
      const products = getProducts();
      productContainer.innerHTML = products
        .map(
          (product) => `
          <li class="project-item active" data-filter-item data-category="${product.category
            }">
            <a class="project-link">
              <figure class="project-img">
                <div class="project-item-icon-box" onclick="openModal('${product.image
            }')">
                  <ion-icon name="eye-outline"></ion-icon>
                </div>
                <img src="${product.image}" alt="${product.title}" loading="lazy" class="project-image"/>
              </figure>
              <h3 class="project-title">${product.title}</h3>
              <span class="project-title" style="
                    font-size: 16px;
                    color: #666;
                    left: 10em;
                    position: absolute;
                    top: 13em;
                  ">ID: ${product.id}</span>
            
              <p class="project-category">${product.category}</p>
  
              <button class="buy-button"  onclick="buyCode('${product.id}', '${product.image}', '${product.title}', '${product.price}')">
                Buy
              </button>
            </a>
            <span style="
                  position: relative;
                  left: 144px;
                  bottom: 37px;
                  font-size: 20px;
                ">${parseInt(product.price).toLocaleString()} VND</span>
          </li>
        `
        )
        .join("");
    };

    renderProducts();
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById("auth-modal");
    const closeModal = document.getElementById("close-auth-modal");
    const tabs = document.querySelectorAll(".auth-tab");
    const forms = document.querySelectorAll(".auth-form");

    const toggleLoginPassword = document.getElementById(
      "toggle-login-password"
    );
    const loginPasswordInput = document.getElementById("login-password");

    const toggleRegisterPassword = document.getElementById(
      "toggle-register-password"
    );
    const registerPasswordInput =
      document.getElementById("register-password");

    // Hi·ªÉn th·ªã modal ngay khi v√†o trang
    modal.style.display = "flex";

    // ƒê√≥ng modal
    closeModal.addEventListener("click", () => {
      modal.style.display = "none";
    });

    // Chuy·ªÉn ƒë·ªïi gi·ªØa Login v√† Register
    tabs.forEach((tab) => {
      tab.addEventListener("click", () => {
        tabs.forEach((t) => t.classList.remove("active"));
        forms.forEach((f) => f.classList.remove("active"));

        tab.classList.add("active");
        document.getElementById(tab.dataset.target).classList.add("active");
      });
    });

    // ·∫®n/hi·ªán m·∫≠t kh·∫©u cho Login
    toggleLoginPassword.addEventListener("click", () => {
      if (loginPasswordInput.type === "password") {
        loginPasswordInput.type = "text";
        toggleLoginPassword.setAttribute("name", "eye-outline");
      } else {
        loginPasswordInput.type = "password";
        toggleLoginPassword.setAttribute("name", "eye-off-outline");
      }
    });

    // ·∫®n/hi·ªán m·∫≠t kh·∫©u cho Register
    toggleRegisterPassword.addEventListener("click", () => {
      if (registerPasswordInput.type === "password") {
        registerPasswordInput.type = "text";
        toggleRegisterPassword.setAttribute("name", "eye-outline");
      } else {
        registerPasswordInput.type = "password";
        toggleRegisterPassword.setAttribute("name", "eye-off-outline");
      }
    });
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById("auth-modal");
    const btnLoginRegister = document.getElementById("btn-login-register");
    const userInfo = document.getElementById("user-info");
    const userNameSpan = document.getElementById("user-name");

    // T√†i kho·∫£n admin m·∫∑c ƒë·ªãnh
    const adminAccount = { email: "admin@gmail.com", password: "admin123", role: "admin" };

    const getAccounts = () => JSON.parse(localStorage.getItem("accounts")) || [];
    const saveAccounts = (accounts) => localStorage.setItem("accounts", JSON.stringify(accounts));

    const accounts = getAccounts();

    // Th√™m t√†i kho·∫£n admin m·∫∑c ƒë·ªãnh n·∫øu ch∆∞a t·ªìn t·∫°i
    if (!accounts.some((acc) => acc.email === adminAccount.email)) {
      accounts.push(adminAccount);
      saveAccounts(accounts);
    }

    // Ki·ªÉm tra tr·∫°ng th√°i ƒëƒÉng nh·∫≠p khi t·∫£i trang
    const currentUser = JSON.parse(localStorage.getItem("currentUser"));
    if (currentUser) {
      btnLoginRegister.style.display = "none";  // ·∫®n n√∫t login/register
      userInfo.style.display = "block";         // Hi·ªÉn th·ªã th√¥ng tin user
      userNameSpan.textContent = `Welcome, ${currentUser.name}`;

    }

    // M·ªü modal khi nh·∫•n v√†o Login ho·∫∑c Register
    const openModal = (formType) => {
      modal.style.display = "block";
      document.querySelectorAll(".auth-form").forEach(form => form.classList.remove("active"));
      document.getElementById(`${formType}-form`).classList.add("active");
    };

    const closeModalHandler = () => {
      modal.style.display = "none"; // ƒê√≥ng modal
    };

    document.querySelector(".btn-login").addEventListener("click", () => openModal("login"));
    document.querySelector(".btn-register").addEventListener("click", () => openModal("register"));
    document.getElementById("close-auth-modal").addEventListener("click", closeModalHandler);

    // X·ª≠ l√Ω ƒëƒÉng k√Ω
    document.getElementById("register-form").addEventListener("submit", (e) => {
      e.preventDefault();
      const name = document.getElementById("register-name").value.trim();
      const email = document.getElementById("register-email").value.trim();
      const password = document.getElementById("register-password").value.trim();

      if (accounts.some((acc) => acc.email === email)) {
        Swal.fire({
          icon: "error",
          title: "Registration Failed",
          text: "This email is already registered.",
        }).then(() => {
          modal.style.display = "block"; // Hi·ªán l·∫°i modal v√† form ƒëƒÉng k√Ω khi c√≥ th√¥ng b√°o th·∫•t b·∫°i
          document.getElementById("register-form").classList.add("active");
        });
        return;
      }

      accounts.push({ name, email, password, role: "user" });
      saveAccounts(accounts);
      Swal.fire({
        icon: "success",
        title: "Registration Successful",
        text: "You can now log in.",
      }).then(() => {
        closeModalHandler(); // ƒê√≥ng modal khi ƒëƒÉng k√Ω th√†nh c√¥ng
      });
    });

    // X·ª≠ l√Ω ƒëƒÉng nh·∫≠p
    document.getElementById("login-form").addEventListener("submit", (e) => {
      e.preventDefault();
      const email = document.getElementById("login-email").value.trim();
      const password = document.getElementById("login-password").value.trim();
      const account = accounts.find((acc) => acc.email === email && acc.password === password);

      if (!account) {
        Swal.fire({
          icon: "error",
          title: "Login Failed",
          text: "Invalid email or password.",
        });
        return;
      }

      if (account.role === "admin") {
        Swal.fire({
          icon: "success",
          title: "Welcome, Admin!",
          text: "Redirecting to admin dashboard...",
          timer: 1500,
          showConfirmButton: false,
        }).then(() => {
          localStorage.setItem("currentUser", JSON.stringify(account));
          window.location.href = "admin.html";  // Chuy·ªÉn ƒë·∫øn admin dashboard
        });
      } else {
        Swal.fire({
          icon: "success",
          title: `Welcome, ${account.name}!`,
          text: "You are now logged in.",
        }).then(() => {
          localStorage.setItem("currentUser", JSON.stringify(account));
          btnLoginRegister.style.display = "none";
          userInfo.style.display = "block";
          userNameSpan.textContent = `Welcome, ${account.name}`;

        });
      }
    });

    // X·ª≠ l√Ω ƒëƒÉng xu·∫•t
    document.getElementById("logout-btn").addEventListener("click", () => {
      Swal.fire({
        icon: "success",
        title: "Logged Out",
        text: "You have successfully logged out.",
      }).then(() => {
        localStorage.removeItem("currentUser");
        location.reload();
      });
    });
  });

</script>

<script>
  // L·∫•y c√°c n√∫t v√† modal
  const loginButton = document.querySelector(".btn-login");
  const registerButton = document.querySelector(".btn-register");
  const authModal = document.getElementById("auth-modal");
  const closeAuthModal = document.getElementById("close-auth-modal");
  const loginFormTab = document.querySelector(
    '.auth-tab[data-target="login-form"]'
  );
  const registerFormTab = document.querySelector(
    '.auth-tab[data-target="register-form"]'
  );

  // Khi nh·∫•n v√†o n√∫t Login
  loginButton.addEventListener("click", function () {
    authModal.style.display = "flex";
    authModal.style.opacity = "1";
    authModal.style.visibility = "visible";

    loginFormTab.classList.add("active");
    registerFormTab.classList.remove("active");
    document.getElementById("login-form").classList.add("active");
    document.getElementById("register-form").classList.remove("active");
  });

  // Khi nh·∫•n v√†o n√∫t Register
  registerButton.addEventListener("click", function () {
    authModal.style.display = "flex";
    authModal.style.opacity = "1";
    authModal.style.visibility = "visible";

    registerFormTab.classList.add("active");
    loginFormTab.classList.remove("active");
    document.getElementById("register-form").classList.add("active");
    document.getElementById("login-form").classList.remove("active");
  });

  // ƒê√≥ng modal khi nh·∫•n v√†o n√∫t ƒë√≥ng
  closeAuthModal.addEventListener("click", function () {
    authModal.style.display = "none";
    authModal.style.opacity = "0";
    authModal.style.visibility = "hidden";
  });

  // Tab chuy·ªÉn ƒë·ªïi gi·ªØa Login v√† Register
  document.querySelectorAll(".auth-tab").forEach((tab) => {
    tab.addEventListener("click", function () {
      document
        .querySelectorAll(".auth-tab")
        .forEach((t) => t.classList.remove("active"));
      document
        .querySelectorAll(".auth-form")
        .forEach((f) => f.classList.remove("active"));
      this.classList.add("active");
      document
        .getElementById(this.getAttribute("data-target"))
        .classList.add("active");
    });
  });
</script>



<script>
  document.addEventListener("DOMContentLoaded", () => {
    const userIcon = document.getElementById("user-icon");
    const userMenu = document.getElementById("user-menu");
    const logoutBtn = document.getElementById("logout-btn");
    const btnLoginRegister = document.getElementById("btn-login-register");
    const userInfo = document.getElementById("user-info");

    // Hi·ªÉn th·ªã/·∫®n menu khi nh·∫•n v√†o logo user
    userIcon.addEventListener("click", () => {
      userMenu.style.display =
        userMenu.style.display === "block" ? "none" : "block";
    });

    // ƒêƒÉng xu·∫•t
    logoutBtn.addEventListener("click", () => {
      Swal.fire({
        icon: "success",
        title: "Logged Out",
        text: "You have successfully logged out.",
      }).then(() => {
        // Quay l·∫°i tr·∫°ng th√°i ban ƒë·∫ßu
        btnLoginRegister.style.display = "flex";
        userInfo.style.display = "none";
        localStorage.removeItem("currentUser"); // X√≥a th√¥ng tin ng∆∞·ªùi d√πng hi·ªán t·∫°i
      });
    });

    // ·∫®n menu khi click ra ngo√†i
    document.addEventListener("click", (e) => {
      if (!userInfo.contains(e.target)) {
        userMenu.style.display = "none";
      }
    });
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById("auth-modal");
    const closeModal = document.getElementById("close-auth-modal");
    const loginButton = document.querySelector(".btn-login");
    const registerButton = document.querySelector(".btn-register");

    const openModal = (formType) => {
      document.body.classList.add("modal-active");

      // K√≠ch ho·∫°t form t∆∞∆°ng ·ª©ng
      if (formType === "login") {
        document.getElementById("login-form").classList.add("active");
        document.getElementById("register-form").classList.remove("active");
      } else {
        document.getElementById("register-form").classList.add("active");
        document.getElementById("login-form").classList.remove("active");
      }
    };

    const closeModalHandler = () => {
      document.body.classList.remove("modal-active");
    };

    loginButton.addEventListener("click", () => openModal("login"));
    registerButton.addEventListener("click", () => openModal("register"));
    closeModal.addEventListener("click", closeModalHandler);

    // ƒê√≥ng modal khi nh·∫•n v√†o b√™n ngo√†i modal
    window.addEventListener("click", (e) => {
      if (e.target === modal) {
        closeModalHandler();
      }
    });
  });
</script>


<script>

  document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById("auth-modal");
    const closeModal = document.getElementById("close-auth-modal");
    const loginButton = document.querySelector(".btn-login");
    const registerButton = document.querySelector(".btn-register");
    const forms = document.querySelectorAll(".auth-form"); // L·∫•y t·∫•t c·∫£ c√°c form

    // ƒê·∫∑t modal v√† form v·ªÅ tr·∫°ng th√°i ban ƒë·∫ßu
    modal.style.display = "none"; // ·∫®n modal
    forms.forEach((form) => form.classList.remove("active")); // X√≥a tr·∫°ng th√°i active c·ªßa form

    // Hi·ªÉn th·ªã modal khi nh·∫•n Login ho·∫∑c Register
    const openModal = (formType) => {
      modal.style.display = "flex";
      forms.forEach((form) => form.classList.remove("active")); // ƒê·∫∑t l·∫°i t·∫•t c·∫£ c√°c form
      document.getElementById(`${formType}-form`).classList.add("active"); // K√≠ch ho·∫°t form t∆∞∆°ng ·ª©ng
    };

    // ƒê√≥ng modal
    const closeModalHandler = () => {
      modal.style.display = "none";
      forms.forEach((form) => form.classList.remove("active")); // ƒê·∫∑t l·∫°i form v·ªÅ tr·∫°ng th√°i ban ƒë·∫ßu
    };

    // G·∫Øn s·ª± ki·ªán cho c√°c n√∫t Login v√† Register
    loginButton.addEventListener("click", () => openModal("login"));
    registerButton.addEventListener("click", () => openModal("register"));
    closeModal.addEventListener("click", closeModalHandler);

    // ƒê√≥ng modal khi nh·∫•n ra ngo√†i modal
    window.addEventListener("click", (e) => {
      if (e.target === modal) {
        closeModalHandler();
      }
    });
  });


</script>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById("auth-modal");
    const closeModalButton = document.getElementById("close-auth-modal");
    const loginButton = document.querySelector(".btn-login");
    const registerButton = document.querySelector(".btn-register");
    const btnLoginRegister = document.getElementById("btn-login-register");
    const userInfo = document.getElementById("user-info");
    const userNameSpan = document.getElementById("user-name");
    const loginForm = document.getElementById("login-form");
    const registerForm = document.getElementById("register-form");
    const accountsKey = "accounts";
    const currentUserKey = "currentUser";

    // Qu·∫£n l√Ω t√†i kho·∫£n
    const getAccounts = () => JSON.parse(localStorage.getItem(accountsKey)) || [];
    const saveAccounts = (accounts) => localStorage.setItem(accountsKey, JSON.stringify(accounts));
    const accounts = getAccounts();

    // Th√™m t√†i kho·∫£n admin m·∫∑c ƒë·ªãnh n·∫øu ch∆∞a t·ªìn t·∫°i
    const adminAccount = { email: "admin@gmail.com", password: "admin123", role: "admin" };
    if (!accounts.some((acc) => acc.email === adminAccount.email)) {
      accounts.push(adminAccount);
      saveAccounts(accounts);
    }

    // Ki·ªÉm tra tr·∫°ng th√°i ƒëƒÉng nh·∫≠p khi t·∫£i trang
    const currentUser = JSON.parse(localStorage.getItem(currentUserKey));
    if (currentUser) {
      updateUserUI(currentUser);
    }

    // H√†m m·ªü modal
    const openModal = (formType) => {
      modal.style.display = "flex";
      modal.style.opacity = "1";
      modal.style.visibility = "visible";
      resetForms();
      document.getElementById(`${formType}-form`).classList.add("active");
    };

    // H√†m ƒë√≥ng modal
    const closeModal = () => {
      modal.style.opacity = "0";
      modal.style.visibility = "hidden";
      setTimeout(() => {
        modal.style.display = "none";
      }, 300); // ƒê·ªìng b·ªô v·ªõi th·ªùi gian CSS transition
    };

    // H√†m ƒë·∫∑t l·∫°i tr·∫°ng th√°i form
    const resetForms = () => {
      document.querySelectorAll(".auth-form").forEach((form) => form.classList.remove("active"));
    };

    // H√†m c·∫≠p nh·∫≠t giao di·ªán ng∆∞·ªùi d√πng sau khi ƒëƒÉng nh·∫≠p
    const updateUserUI = (user) => {
      btnLoginRegister.style.display = "none";
      userInfo.style.display = "flex";
      userNameSpan.textContent = `Welcome, ${user.name}`;
    };

    // X·ª≠ l√Ω ƒëƒÉng k√Ω
    registerForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const name = document.getElementById("register-name").value.trim();
      const email = document.getElementById("register-email").value.trim();
      const password = document.getElementById("register-password").value.trim();

      if (accounts.some((acc) => acc.email === email)) {
        Swal.fire({
          icon: "error",
          title: "Registration Failed",
          text: "This email is already registered.",
        });
        return;
      }

      accounts.push({ name, email, password, role: "user" });
      saveAccounts(accounts);

      Swal.fire({
        icon: "success",
        title: "Registration Successful",
        text: "You can now log in.",
      }).then(() => openModal("login"));
    });

    // X·ª≠ l√Ω ƒëƒÉng nh·∫≠p
    loginForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const email = document.getElementById("login-email").value.trim();
      const password = document.getElementById("login-password").value.trim();
      const account = accounts.find((acc) => acc.email === email && acc.password === password);

      if (!account) {
        Swal.fire({
          icon: "error",
          title: "Login Failed",
          text: "Invalid email or password.",
        });
        return;
      }

      Swal.fire({
        icon: "success",
        title: `Welcome, ${account.name}!`,
        text: "You are now logged in.",
        timer: 1500,
        showConfirmButton: false,
      }).then(() => {
        // L∆∞u tr·∫°ng th√°i ng∆∞·ªùi d√πng
        localStorage.setItem(currentUserKey, JSON.stringify(account));

        // C·∫≠p nh·∫≠t giao di·ªán
        updateUserUI(account);

        // ƒê√≥ng modal v√† l√†m m·ªõi trang
        setTimeout(() => {
          closeModal(); // ƒê√≥ng modal
          location.reload(); // L√†m m·ªõi trang sau 1 gi√¢y
        }, 300); // 1 gi√¢y delay ƒë·ªÉ ng∆∞·ªùi d√πng xem th√¥ng b√°o
      });
    });

    // X·ª≠ l√Ω ƒëƒÉng xu·∫•t
    document.getElementById("logout-btn").addEventListener("click", () => {
      Swal.fire({
        icon: "success",
        title: "Logged Out",
        text: "You have successfully logged out.",
      }).then(() => {
        localStorage.removeItem(currentUserKey);
        location.reload(); // L√†m m·ªõi trang ƒë·ªÉ ƒë·∫∑t l·∫°i tr·∫°ng th√°i giao di·ªán
      });
    });

    // S·ª± ki·ªán cho n√∫t m·ªü modal
    loginButton.addEventListener("click", () => openModal("login"));
    registerButton.addEventListener("click", () => openModal("register"));
    closeModalButton.addEventListener("click", closeModal);

    // ƒê√≥ng modal khi nh·∫•n ra ngo√†i modal
    window.addEventListener("click", (e) => {
      if (e.target === modal) {
        closeModal();
      }
    });
  });


</script>

<!-- l√†m ph·∫ßn c·ªông ti·ªÅn cho user -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const profileBtn = document.getElementById("profile-btn");

    // X·ª≠ l√Ω khi nh·∫•n v√†o "Trang c√° nh√¢n"
    profileBtn.addEventListener("click", () => {
      window.location.href = "user.html";
    });
  });


</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const btnLoginRegister = document.getElementById("btn-login-register");
    const userInfo = document.getElementById("user-info");
    const userNameSpan = document.getElementById("user-name");
    const userBalanceSpan = document.getElementById("user-balance");

    const getAccounts = () => JSON.parse(localStorage.getItem("accounts")) || [];
    const saveAccounts = (accounts) => localStorage.setItem("accounts", JSON.stringify(accounts));
    const accounts = getAccounts();

    const currentUser = JSON.parse(localStorage.getItem("currentUser"));
    if (currentUser) {
      btnLoginRegister.style.display = "none";
      userInfo.style.display = "flex";
      userNameSpan.textContent = `Welcome, ${currentUser.name}`;
      userBalanceSpan.textContent = `S·ªë ti·ªÅn: ${currentUser.balance || 0} VND`;
    }

    document.getElementById("register-form").addEventListener("submit", (e) => {
      e.preventDefault();
      const name = document.getElementById("register-name").value.trim();
      const email = document.getElementById("register-email").value.trim();
      const password = document.getElementById("register-password").value.trim();

      if (accounts.some((acc) => acc.email === email)) {
        Swal.fire("Error", "This email is already registered.", "error");
        return;
      }

      accounts.push({ name, email, password, role: "user", balance: 0 });
      saveAccounts(accounts);
      Swal.fire("Success", "Registration successful. You can now log in.", "success");
    });

    document.getElementById("login-form").addEventListener("submit", (e) => {
      e.preventDefault();
      const email = document.getElementById("login-email").value.trim();
      const password = document.getElementById("login-password").value.trim();
      const account = accounts.find((acc) => acc.email === email && acc.password === password);

      if (!account) {
        Swal.fire("Error", "Invalid email or password.", "error");
        return;
      }

      localStorage.setItem("currentUser", JSON.stringify(account));
      btnLoginRegister.style.display = "none";
      userInfo.style.display = "flex";
      userNameSpan.textContent = `Welcome, ${account.name}`;
      userBalanceSpan.textContent = `S·ªë ti·ªÅn: ${account.balance || 0} VND`;
      Swal.fire("Success", "Login successful.", "success");
    });

    document.getElementById("logout-btn").addEventListener("click", () => {
      localStorage.removeItem("currentUser");
      location.reload();
    });
  });
</script>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const btnLoginRegister = document.getElementById("btn-login-register");
    const userInfo = document.getElementById("user-info");
    const userNameSpan = document.getElementById("user-name");
    const userBalanceSpan = document.getElementById("user-balance");
    const naptienBtn = document.getElementById("naptien-btn");
    const logoutBtn = document.getElementById("logout-btn");
    // X·ª≠ l√Ω n·∫°p ti·ªÅn
    naptienBtn.addEventListener("click", () => {
      window.location.href = "naptien.html";
    });

  });
</script>
<!-- x·ª≠ l√≠ ƒë∆°n h√†ng mua -->

<script>
  function buyCode(id, image, title, price) {
  const currentUser = JSON.parse(localStorage.getItem("currentUser"));
  const accounts = JSON.parse(localStorage.getItem("accounts")) || [];

  if (!currentUser) {
    Swal.fire({
      icon: "warning",
      title: "B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p!",
      text: "Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ mua code.",
    });
    return;
  }

  const userBalance = parseInt(currentUser.balance) || 0;
  const codePrice = parseInt(price);

  if (userBalance < codePrice) {
    Swal.fire({
      icon: "error",
      title: "Kh√¥ng ƒë·ªß ti·ªÅn!",
      text: "S·ªë d∆∞ c·ªßa b·∫°n kh√¥ng ƒë·ªß ƒë·ªÉ mua code n√†y.",
    });
    return;
  }

  Swal.fire({
    title: `B·∫°n c√≥ mu·ªën mua code ${title} v·ªõi gi√° ${codePrice.toLocaleString()} VND?`,
    icon: "question",
    showCancelButton: true,
    confirmButtonText: "C√≥",
    cancelButtonText: "Kh√¥ng",
  }).then((result) => {
    if (result.isConfirmed) {
      // Tr·ª´ ti·ªÅn
      currentUser.balance = userBalance - codePrice;

      // C·∫≠p nh·∫≠t s·ªë d∆∞ trong danh s√°ch t√†i kho·∫£n
      const accountIndex = accounts.findIndex(account => account.email === currentUser.email);
      if (accountIndex !== -1) {
        accounts[accountIndex].balance = currentUser.balance;
        localStorage.setItem("accounts", JSON.stringify(accounts));
      }

      // L∆∞u l·∫°i th√¥ng tin ng∆∞·ªùi d√πng hi·ªán t·∫°i
      localStorage.setItem("currentUser", JSON.stringify(currentUser));

      // L∆∞u l·ªãch s·ª≠ mua h√†ng
      const purchaseHistory = JSON.parse(localStorage.getItem("purchaseHistory")) || [];
      purchaseHistory.push({
        id,
        image,
        title,
        price: codePrice,
        downloadLink: getProducts().find((p) => p.id === id)?.downloadLink || "",
        date: new Date().toLocaleString(),
      });
      localStorage.setItem("purchaseHistory", JSON.stringify(purchaseHistory));

      // Hi·ªÉn th·ªã s·ªë d∆∞ m·ªõi ngay tr√™n web
      const balanceElement = document.getElementById("user-balance");
      if (balanceElement) {
        balanceElement.textContent = `S·ªë ti·ªÅn: ${currentUser.balance.toLocaleString()} VND`;
      }

      Swal.fire({
        icon: "success",
        title: "Mua th√†nh c√¥ng!",
        text: `Code ${title} ƒë√£ ƒë∆∞·ª£c th√™m v√†o l·ªãch s·ª≠ mua h√†ng.`,
      });
    } else {
      Swal.fire({
        icon: "info",
        title: "H·ªßy mua h√†ng",
        text: "B·∫°n ƒë√£ h·ªßy giao d·ªãch mua code.",
      });
    }
  });
}

function getProducts() {
  return JSON.parse(localStorage.getItem("products")) || [];
}

</script>


<audio id="audio" autoplay loop>
  <source src="./sounds/music.me.mp3" type="audio/mp3">
</audio>
<script>
  window.onload = function() {
      var audio = document.getElementById('audio');
      audio.play();
  }
</script>

</html>